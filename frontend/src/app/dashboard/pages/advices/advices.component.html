<div class="ai-page">
  <!-- –°–≤–æ–¥–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
  <div class="recommendations-summary">
    <div class="cyber-card summary-card">
      <div class="summary-header">
        <h2>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ò–ò</h2>
        <div class="summary-stats">
          <div class="stat-item critical">
            <div class="stat-value">{{ getCriticalCount() }}</div>
            <div class="stat-label">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ</div>
          </div>
          <div class="stat-item high">
            <div class="stat-value">{{ getHighCount() }}</div>
            <div class="stat-label">–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç</div>
          </div>
          <div class="stat-item medium">
            <div class="stat-value">{{ getMediumCount() }}</div>
            <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç</div>
          </div>
          <div class="stat-item low">
            <div class="stat-value">{{ getLowCount() }}</div>
            <div class="stat-label">–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <div class="filters-section">
    <div class="cyber-card">
      <div class="filters-grid">
        <div class="filter-group">
          <h3>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</h3>
          <div class="filter-buttons">
            <button class="cyber-button"
                    [class.active]="priorityFilter === 'critical'"
                    (click)="togglePriorityFilter('critical')">
              –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
            </button>
            <button class="cyber-button"
                    [class.active]="priorityFilter === 'high'"
                    (click)="togglePriorityFilter('high')">
              –í—ã—Å–æ–∫–∏–π
            </button>
            <button class="cyber-button"
                    [class.active]="priorityFilter === 'medium'"
                    (click)="togglePriorityFilter('medium')">
              –°—Ä–µ–¥–Ω–∏–π
            </button>
            <button class="cyber-button"
                    [class.active]="priorityFilter === 'low'"
                    (click)="togglePriorityFilter('low')">
              –ù–∏–∑–∫–∏–π
            </button>
          </div>
        </div>
        <div class="filter-group">
          <h3>–¢–∏–ø</h3>
          <div class="filter-buttons">
            <button class="cyber-button"
                    [class.active]="typeFilter === 'security'"
                    (click)="toggleTypeFilter('security')">
              –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
            </button>
            <button class="cyber-button"
                    [class.active]="typeFilter === 'performance'"
                    (click)="toggleTypeFilter('performance')">
              –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            </button>
            <button class="cyber-button"
                    [class.active]="typeFilter === 'network'"
                    (click)="toggleTypeFilter('network')">
              –°–µ—Ç—å
            </button>
            <button class="cyber-button"
                    [class.active]="typeFilter === 'infrastructure'"
                    (click)="toggleTypeFilter('infrastructure')">
              –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
            </button>
            <button class="cyber-button"
                    [class.active]="typeFilter === 'cost'"
                    (click)="toggleTypeFilter('cost')">
              –°—Ç–æ–∏–º–æ—Å—Ç—å
            </button>
          </div>
        </div>
      </div>
      <div class="filters-actions">
        <button class="cyber-button" (click)="clearFilters()" *ngIf="hasActiveFilters">
          –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
        </button>
      </div>
    </div>
  </div>

  <!-- –°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
  <div class="recommendations-list">
    <div *ngFor="let rec of filteredRecommendations" class="recommendation-card cyber-card" [class]="rec.priority">
      <div class="rec-header">
        <div class="rec-priority">
          <i [class]="getPriorityIcon(rec.priority)"></i>
          <span>{{ getPriorityLabel(rec.priority) }}</span>
        </div>
        <div class="rec-type">
          <i [class]="getTypeIcon(rec.type)"></i>
          <span>{{ getTypeLabel(rec.type) }}</span>
        </div>
        <div class="rec-time">{{ rec.createdAt }}</div>
      </div>

      <div class="rec-content">
        <h3>{{ rec.title }}</h3>
        <p class="rec-description">{{ rec.description }}</p>

        <div class="rec-details">
          <div class="detail-item">
            <span class="label">–í–ª–∏—è–Ω–∏–µ:</span>
            <span class="value">{{ rec.impact }}</span>
          </div>
          <div class="detail-item">
            <span class="label">–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</span>
            <span class="value">{{ rec.timeToFix }}</span>
          </div>
        </div>

        <div class="rec-actions">
          <h4>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</h4>
          <ul>
            <li *ngFor="let action of rec.actions">{{ action }}</li>
          </ul>
        </div>
      </div>

      <div class="rec-footer">
        <div class="status-badge" [class]="rec.status">
          {{ getStatusLabel(rec.status) }}
        </div>
        <div class="action-buttons">
          <button class="cyber-button" *ngIf="rec.status === 'new'">
            –ù–∞—á–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
          </button>
          <button class="cyber-button" *ngIf="rec.status === 'in_progress'">
            –ó–∞–≤–µ—Ä—à–∏—Ç—å
          </button>
          <button class="cyber-button warning" *ngIf="rec.status === 'new'">
            –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>
      </div>
    </div>

    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
    <div *ngIf="filteredRecommendations.length === 0" class="no-recommendations cyber-card">
      <div class="empty-state">
        <i>üîç</i>
        <h3>–ù–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</h3>
        <p>–ü–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</p>
      </div>
    </div>
  </div>
</div>
