<div class="network-details" *ngIf="device">
  <div class="details-header">
    <div class="device-info">
      <button class="back-button" (click)="onClose()">‚Üê</button>
      <div class="device-icon" [class]="device.type">
        <i>{{ getDeviceIcon(device.type) }}</i>
      </div>
      <div class="device-main-info">
        <h2>{{ device.name }}</h2>
        <p class="device-type">{{ getDeviceTypeName(device.type) }}</p>
      </div>
    </div>
    <div class="device-actions">
      <button class="cyber-button warning" [disabled]="device.status === 'offline'">
        <i>üîÑ</i> –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å
      </button>
      <button class="cyber-button" [disabled]="device.status === 'offline'">
        <i>‚ö°</i> –í—ã–∫–ª—é—á–∏—Ç—å
      </button>
      <button class="cyber-button" [disabled]="device.status !== 'offline'">
        <i>‚ñ∂Ô∏è</i> –í–∫–ª—é—á–∏—Ç—å
      </button>
    </div>
  </div>

  <div class="details-grid">
    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="cyber-card">
      <h3>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">IP –∞–¥—Ä–µ—Å</span>
          <span class="value">{{ device.ip }}</span>
        </div>
        <div class="info-item">
          <span class="label">MAC –∞–¥—Ä–µ—Å</span>
          <span class="value">{{ device.mac }}</span>
        </div>
        <div class="info-item">
          <span class="label">–°—Ç–∞—Ç—É—Å</span>
          <span class="value status-badge" [class]="device.status">
                {{ getStatusName(device.status) }}
              </span>
        </div>
        <div class="info-item">
          <span class="label">–õ–æ–∫–∞—Ü–∏—è</span>
          <span class="value">{{ device.location }}</span>
        </div>
        <div class="info-item">
          <span class="label">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</span>
          <span class="value">{{ device.manufacturer }}</span>
        </div>
        <div class="info-item">
          <span class="label">–ú–æ–¥–µ–ª—å</span>
          <span class="value">{{ device.model }}</span>
        </div>
      </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ -->
    <div class="cyber-card">
      <h3>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</h3>
      <div class="connection-stats">
        <div class="stat-item">
          <div class="stat-header">
            <span>–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏</span>
            <span class="stat-value">{{ device.bandwidth.download }} {{ device.bandwidth.unit }}</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="getSpeedPercentage(device.bandwidth.download)"></div>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-header">
            <span>–°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–¥–∞—á–∏</span>
            <span class="stat-value">{{ device.bandwidth.upload }} {{ device.bandwidth.unit }}</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="getSpeedPercentage(device.bandwidth.upload)"></div>
          </div>
        </div>
      </div>
      <div class="traffic-info">
        <div class="traffic-item">
          <span class="label">–í—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫</span>
          <span class="value">{{ device.traffic.incoming }} {{ device.traffic.unit }}</span>
        </div>
        <div class="traffic-item">
          <span class="label">–ò—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫</span>
          <span class="value">{{ device.traffic.outgoing }} {{ device.traffic.unit }}</span>
        </div>
      </div>
    </div>

    <!-- –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="cyber-card" *ngIf="device.metadata">
      <h3>–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
      <div class="system-info">
        <div class="info-item" *ngIf="device.metadata.os">
          <span class="label">–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</span>
          <span class="value">{{ device.metadata.os }}</span>
        </div>
        <div class="info-item" *ngIf="device.metadata.version">
          <span class="label">–í–µ—Ä—Å–∏—è</span>
          <span class="value">{{ device.metadata.version }}</span>
        </div>
        <div class="info-item" *ngIf="device.metadata.services?.length">
          <span class="label">–°–µ—Ä–≤–∏—Å—ã</span>
          <div class="tags">
                <span class="tag" *ngFor="let service of device.metadata.services">
                  {{ service }}
                </span>
          </div>
        </div>
        <div class="info-item" *ngIf="device.metadata.ports?.length">
          <span class="label">–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã</span>
          <div class="tags">
                <span class="tag" *ngFor="let port of device.metadata.ports">
                  {{ port }}
                </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
