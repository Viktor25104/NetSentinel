<div class="document-view" *ngIf="document && template">
  <div class="document-header">
    <div class="document-title">
      <h1>{{ document.name }}</h1>
      <div class="document-meta">
        <span class="document-template">{{ template.name }}</span>
        <span class="document-status" [class]="document.status">
              {{ getStatusLabel(document.status) }}
            </span>
      </div>
    </div>
    <div class="document-actions">
      <button class="cyber-button" (click)="onEdit()">
        <i>‚úèÔ∏è</i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
      </button>
      <button class="cyber-button" (click)="onExport()">
        <i>üì•</i> –≠–∫—Å–ø–æ—Ä—Ç
      </button>
      <button class="cyber-button" *ngIf="document.status !== 'published'" (click)="onPublish()">
        <i>üì§</i> –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
      </button>
    </div>
  </div>

  <div class="document-content">
    <div class="document-sections">
      <app-document-section
        *ngFor="let section of template.sections"
        [section]="section"
        [content]="document.sections[section.id]">
      </app-document-section>
    </div>
  </div>

  <div class="document-footer">
    <div class="document-info">
      <div class="info-item">
        <span class="label">–°–æ–∑–¥–∞–Ω:</span>
        <span class="value">{{ formatDate(document.createdAt) }}</span>
      </div>
      <div class="info-item">
        <span class="label">–û–±–Ω–æ–≤–ª–µ–Ω:</span>
        <span class="value">{{ formatDate(document.updatedAt) }}</span>
      </div>
      <div class="info-item">
        <span class="label">–ê–≤—Ç–æ—Ä:</span>
        <span class="value">{{ document.createdBy }}</span>
      </div>
    </div>
    <div class="document-tags">
      <span class="tag" *ngFor="let tag of document.tags">{{ tag }}</span>
    </div>
  </div>
</div>
